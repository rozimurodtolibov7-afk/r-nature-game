<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>R-Nature: Honey Tycoon</title>
    <style>
        :root { --sky: #74b9ff; --grass: #55efc4; --bee: #fdcb6e; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Arial Rounded MT Bold', sans-serif; }
        body { background: var(--sky); overflow: hidden; touch-action: none; }

        /* UI STATS */
        #hud { position: absolute; top: 20px; width: 100%; display: flex; justify-content: space-around; z-index: 100; }
        .stat { background: white; padding: 10px 20px; border-radius: 20px; border: 3px solid #636e72; font-weight: bold; }

        /* WORLD */
        #game-world { position: relative; width: 100vw; height: 100vh; }
        .flower { position: absolute; font-size: 40px; bottom: 80px; transition: 0.3s; }
        #bee { position: absolute; font-size: 50px; z-index: 50; transition: 0.1s linear; transform: scaleX(1); }
        .hive { position: absolute; font-size: 80px; left: 20px; bottom: 70px; }
        .ground { position: absolute; bottom: 0; width: 100%; height: 80px; background: var(--grass); border-top: 5px solid #00b894; }

        /* ANIMATIONS */
        @keyframes collect { 0% { transform: scale(1); } 50% { transform: scale(1.5); } 100% { transform: scale(1); } }
        .collecting { animation: collect 0.3s; }
    </style>
</head>
<body>

<div id="hud">
    <div class="stat">üå∏ Gulchang: <span id="pollen">0</span>/10</div>
    <div class="stat">üçØ Asal: <span id="honey">0</span></div>
    <div class="stat">üí∞ RC: <span id="rc">0</span></div>
</div>

<div id="game-world">
    <div id="bee">üêù</div>
    <div class="hive">üè†</div>
    <div id="flowers-container"></div>
    <div class="ground"></div>
</div>

<script>
    let pollen = 0;
    let honey = 0;
    let rc = 0;
    const bee = document.getElementById('bee');
    const flowersContainer = document.getElementById('flowers-container');
    
    let beePos = { x: window.innerWidth / 2, y: window.innerHeight / 2 };

    // Gullarni yaratish
    function spawnFlowers() {
        for(let i=0; i<5; i++) {
            const f = document.createElement('div');
            f.className = 'flower';
            f.innerText = ['üåª', 'üå∑', 'üåπ', 'üå∏', 'üåº'][Math.floor(Math.random()*5)];
            f.style.left = (100 + i * (window.innerWidth / 6)) + 'px';
            flowersContainer.appendChild(f);
        }
    }

    // Boshqaruv
    window.addEventListener('touchstart', (e) => { moveBee(e.touches[0]); });
    window.addEventListener('touchmove', (e) => { moveBee(e.touches[0]); });
    window.addEventListener('mousemove', (e) => { moveBee(e); });

    function moveBee(e) {
        beePos.x = e.clientX - 25;
        beePos.y = e.clientY - 25;
        bee.style.left = beePos.x + 'px';
        bee.style.top = beePos.y + 'px';
        
        // Burilish effekti
        if (e.movementX > 0) bee.style.transform = "scaleX(1)";
        else if (e.movementX < 0) bee.style.transform = "scaleX(-1)";

        checkCollisions();
    }

    function checkCollisions() {
        // Gullar bilan to'qnashuv
        const flowers = document.querySelectorAll('.flower');
        flowers.forEach(f => {
            const rect1 = bee.getBoundingClientRect();
            const rect2 = f.getBoundingClientRect();

            if (!(rect1.right < rect2.left || rect1.left > rect2.right || rect1.bottom < rect2.top || rect1.top > rect2.bottom)) {
                if (pollen < 10 && !f.classList.contains('empty')) {
                    pollen++;
                    f.style.opacity = "0.3";
                    f.classList.add('empty');
                    document.getElementById('pollen').innerText = pollen;
                    bee.classList.add('collecting');
                    setTimeout(() => {
                        bee.classList.remove('collecting');
                        f.style.opacity = "1";
                        f.classList.remove('empty');
                    }, 2000);
                }
            }
        });

        // Uya (Hive) bilan to'qnashuv
        const hive = document.querySelector('.hive').getBoundingClientRect();
        const beeRect = bee.getBoundingClientRect();
        if (!(beeRect.right < hive.left || beeRect.left > hive.right || beeRect.bottom < hive.top || beeRect.top > hive.bottom)) {
            if (pollen >= 10) {
                honey++;
                rc += 100;
                pollen = 0;
                document.getElementById('honey').innerText = honey;
                document.getElementById('pollen').innerText = pollen;
                document.getElementById('rc').innerText = rc;
                alert("Asal tayyor! +100 RC üçØ");
            }
        }
    }

    spawnFlowers();
</script>
</body>
</html>